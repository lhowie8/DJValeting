@page "/Bookings/create"
@inject IBookingService BookingService;
@inject IFlexibilityService FlexibilityService;
@inject IVehicleSizeService VehicleSizeService;
<div class="row">
    <div class="col-lg-9">
        <h1>Create a new booking</h1>
    </div>
        <div class="col-lg-3 text-right">
            <a class="btn btn-secondary btn-sm" href="/bookings" role="button">Go Back To Bookings</a>
        </div>
</div>
@code {
    public Booking? Booking { get; set; }

    public List<Flexibility>? Flexibilities { get; set; }

    public List<VehicleSize>? VehicleSizes { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        //Create new booking object for use on the page
        Booking = new Booking();
    }

    protected override async Task OnInitializedAsync()
    {
        //Get lists of flexibilities and vehicles
        var f = await FlexibilityService.GetFlexibilityList();
        var v = await VehicleSizeService.GetVehicleSizeList();
        Flexibilities = f.ToList();
        VehicleSizes = v.ToList();
    }
}
